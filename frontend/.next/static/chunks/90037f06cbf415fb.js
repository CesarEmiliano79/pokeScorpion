(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32352,e=>{"use strict";e.s(["default",()=>i]);var a=e.i(43476),t=e.i(71645),s=e.i(18566),l=e.i(61918),r=e.i(53791);function i(){let{id:e}=(0,s.useParams)(),i=(0,s.useRouter)(),[c,n]=(0,t.useState)(null),[o,d]=(0,t.useState)(!0),[u,m]=(0,t.useState)(""),[x,g]=(0,t.useState)(""),[h,p]=(0,t.useState)(null),[b,j]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{var a;let t=await (0,r.fetchNoticia)(e);console.log(t),n(t.data),m(t.data.title||""),g(t.data.descripcion||""),j(null==(a=t.data.esMostrable)||a)}catch(e){console.error("Error al obtener noticia:",e)}d(!1)})()},[e]);let N=async a=>{a.preventDefault();try{let a=await (0,r.updateNoticia)(e,u,x,b,h);a.ok?(alert("Noticia actualizada correctamente"),i.push("/pages/noticias/".concat(e))):alert("Error: "+a.mensaje)}catch(e){console.error("Error al actualizar noticia:",e)}};return o?(0,a.jsx)("p",{className:"text-white p-6",children:"Cargando noticia..."}):c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.default,{}),(0,a.jsx)("div",{className:"min-h-screen bg-black p-6 flex flex-col items-center",children:(0,a.jsxs)("div",{className:"max-w-3xl w-full bg-gray-800 p-6 rounded-xl shadow-lg",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-indigo-400 mb-6",children:"Editar Noticia"}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-1",children:"Título"}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),className:"w-full p-2 rounded bg-gray-700 text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-1",children:"Descripción"}),(0,a.jsx)("textarea",{value:x,onChange:e=>g(e.target.value),rows:"5",className:"w-full p-2 rounded bg-gray-700 text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-1",children:"Imagen"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files[0];if(!a)return;let t=new FileReader;t.onloadend=()=>p(t.result),t.readAsDataURL(a)}}),h?(0,a.jsx)("img",{src:h,alt:"Nueva imagen",className:"mt-3 rounded-lg w-64"}):c.image&&(0,a.jsx)("img",{src:"http://localhost:3001/imagenesNoticias/".concat(c.image),alt:"Imagen actual",className:"mt-3 rounded-lg w-64"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:b,onChange:e=>j(e.target.checked)}),(0,a.jsx)("span",{className:"text-gray-300",children:"Mostrar en listado"})]}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition",children:"Guardar cambios"})]})]})})]}):(0,a.jsx)("p",{className:"text-white p-6",children:"Noticia no encontrada"})}}]);